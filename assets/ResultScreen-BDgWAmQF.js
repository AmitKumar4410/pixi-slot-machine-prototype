import{C as u,G as d,T as _,a as p,_ as x,n as b,b as y,g as h}from"./index-Dt3LGsdY.js";class m extends u{static SCREEN_ID="result";static assetBundles=[];_bg;_bgGlow;_panel;_panelBorder;_headlineText;_creditsLabel;_bestLabel;_playAgainBtn;_menuBtn;_data={credits:0,highscore:0};constructor(){super(),this._bg=new d,this.addChild(this._bg),this._bgGlow=new d,this.addChild(this._bgGlow),this._panel=new d,this.addChild(this._panel),this._panelBorder=new d,this.addChild(this._panelBorder),this._headlineText=new _({text:"BETTER LUCK! ðŸ€",style:new p({fontFamily:"Bungee-Regular",fontSize:58,fill:16766720,stroke:{color:8011264,width:5},dropShadow:{color:16737792,blur:20,distance:0,alpha:.8}})}),this._headlineText.anchor.set(.5),this.addChild(this._headlineText),this._creditsLabel=new _({text:"CREDITS: 0",style:new p({fontFamily:"OpenSans-SemiBold",fontSize:36,fill:16777215,dropShadow:{color:0,blur:6,distance:0,alpha:.5}})}),this._creditsLabel.anchor.set(.5),this.addChild(this._creditsLabel),this._bestLabel=new _({text:"BEST: 0",style:new p({fontFamily:"OpenSans-SemiBold",fontSize:24,fill:13148415,dropShadow:{color:0,blur:4,distance:0,alpha:.5}})}),this._bestLabel.anchor.set(.5),this.addChild(this._bestLabel),this._playAgainBtn=this._makeButton("â–¶  PLAY AGAIN",16766720,1706496,async()=>{const{GameScreen:e}=await x(async()=>{const{GameScreen:n}=await import("./index-Dt3LGsdY.js").then(i=>i.at);return{GameScreen:n}},[],import.meta.url);b.goToScreen(e)}),this.addChild(this._playAgainBtn),this._menuBtn=this._makeButton("MAIN MENU",2760542,16766720,()=>{b.goToScreen(y)},!0),this.addChild(this._menuBtn)}prepare(e){this._data=e}async show(){h.killTweensOf(this),this.alpha=0,this._creditsLabel.text=`CREDITS: ${this._data.credits}`,this._bestLabel.text=`BEST: ${this._data.highscore}`;const e=this._data.credits>0;this._headlineText.text=e?"YOU WIN! ðŸŽ‰":"BETTER LUCK! ðŸ€",await h.to(this,{alpha:1,duration:.35,ease:"power2.out"}),h.from(this._headlineText.scale,{x:.6,y:.6,duration:.5,ease:"back.out(2)"})}async hide(){h.killTweensOf(this),await h.to(this,{alpha:0,duration:.2,ease:"power2.in"})}resize(e,n){const i=e*.5,l=n*.5;this._bg.clear().rect(0,0,e,n).fill({color:526106}),this._bgGlow.clear(),[{r:Math.min(e,n)*.55,a:.07,c:8141557},{r:Math.min(e,n)*.28,a:.1,c:4857760}].forEach(({r:s,a:c,c:w})=>{this._bgGlow.circle(i,l,s).fill({color:w,alpha:c})});const r=Math.min(e-60,420),t=360,o=i-r*.5,a=l-t*.5;this._panel.clear().roundRect(o,a,r,t,20).fill({color:1183802,alpha:.96}),this._panelBorder.clear().roundRect(o-2,a-2,r+4,t+4,22).stroke({color:16766720,width:2.5,alpha:.9}).roundRect(o-6,a-6,r+12,t+12,26).stroke({color:16753920,width:1.5,alpha:.25}),this._headlineText.x=i,this._headlineText.y=l-120,this._creditsLabel.x=i,this._creditsLabel.y=l-25,this._bestLabel.x=i,this._bestLabel.y=l+30,this._playAgainBtn.x=i,this._playAgainBtn.y=l+105,this._menuBtn.x=i,this._menuBtn.y=l+170}_makeButton(e,n,i,l,r=!1){const t=new u,o=new d,a=240,s=54;r?o.roundRect(-a*.5,-s*.5,a,s,12).fill({color:n}).roundRect(-a*.5,-s*.5,a,s,12).stroke({color:16766720,width:2,alpha:.9}):o.roundRect(-a*.5,-s*.5,a,s,12).fill({color:n}).roundRect(-a*.5+4,-s*.5+4,a-8,s*.4,9).fill({color:16771430,alpha:.45});const c=new _({text:e,style:new p({fontFamily:"Bungee-Regular",fontSize:22,fill:i})});return c.anchor.set(.5),t.addChild(o,c),t.interactive=!0,t.cursor="pointer",t.on("pointerdown",l),t.on("pointerover",()=>h.to(t.scale,{x:1.07,y:1.07,duration:.1})),t.on("pointerout",()=>h.to(t.scale,{x:1,y:1,duration:.12})),t}}export{m as ResultScreen};
